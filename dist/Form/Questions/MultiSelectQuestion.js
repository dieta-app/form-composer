"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.MultiSelectQuestion=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _react=_interopRequireWildcard(require("react"));var _styledComponents=_interopRequireWildcard(require("styled-components"));var _propTypes=_interopRequireDefault(require("prop-types"));var _FormProvider=require("../FormProvider");var _color=_interopRequireDefault(require("color"));var _jsxFileName="/Users/bneigher/Desktop/Dieta/form-composer/src/Form/Questions/MultiSelectQuestion.js";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var fadeIn=(0,_styledComponents.keyframes)(["0%{opacity:0;box-shadow:0 0 0 0px rgba(0,0,0,0.2);}100%{opacity:1;box-shadow:0 0 0 25px rgba(0,0,0,0);}"]);var checkmark=(0,_styledComponents.keyframes)(["0%{height:0;width:0;opacity:0;}20%{height:0;width:calc(3em/4);}40%{}100%{height:calc(3.5em/2);width:calc(3em/4);opacity:1;}"]);var QuestionContainer=_styledComponents.default.div.withConfig({displayName:"QuestionContainer",componentId:"sc-1hrrz9z-0"})(["display:flex;flex:1;flex-direction:column;min-width:275px;@media (min-width:472px){max-width:300px;}margin-bottom:70px;"]);var StyledChoiceContainer=_styledComponents.default.div.withConfig({displayName:"StyledChoiceContainer",componentId:"sc-1hrrz9z-1"})(["position:relative;display:flex;border-color:",";border-style:solid;border-width:1px;padding-top:15px;padding-bottom:15px;padding-right:10px;&:not(:last-child){border-bottom-width:0px;}"," &.selected{background-color:","!important;}"],function(props){return props.theme.colors.MID;},function(props){return!props.isStatic?"\n  &:hover {\n    cursor: pointer;\n    background-color: "+function(props){return(0,_color.default)(props.theme.colors.PRIMARY_LIGHT).lighten(0.3).rgb().round().string();}+";\n    @media (hover: none) and (pointer: coarse) {\n      background-color: transparent !important;\n    }\n  }\n  ":"\n  &:hover {\n    pointer-events: none;\n    cursor: default;\n  }\n  ";},function(props){return(0,_color.default)(props.theme.colors.PRIMARY_LIGHT).lighten(0.3).rgb().round().string();});var DecisionIndicator=_styledComponents.default.div.withConfig({displayName:"DecisionIndicator",componentId:"sc-1hrrz9z-2"})(["display:flex;align-items:center;margin:auto 15px;width:25px;height:25px;border-color:",";border-style:solid;border-width:1px;&.selected{border-color:",";&::before{animation:"," 0.2s linear;content:\"\";display:inline-block;width:15px;height:15px;margin:auto;}&:after{opacity:1;animation:"," ease 300ms;transform:scaleX(-1) rotate(135deg);height:calc(3.5em / 2);width:calc(3em / 4);transform-origin:left top;border-right:",";border-top:",";content:\"\";left:calc(7em / 6);top:45%;position:absolute;}}"],function(props){return props.theme.colors.MID;},function(props){return props.theme.colors.PRIMARY_LIGHT;},fadeIn,checkmark,function(props){return"3px solid "+props.theme.colors.PRIMARY_LIGHT;},function(props){return"3px solid "+props.theme.colors.PRIMARY_LIGHT;});var DecisionContainer=_styledComponents.default.div.withConfig({displayName:"DecisionContainer",componentId:"sc-1hrrz9z-3"})(["display:flex;flex:8;align-items:center;font-family:proxima-nova;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;"]);var ChoiceContainer=function(_Component){(0,_inherits2.default)(ChoiceContainer,_Component);var _super=_createSuper(ChoiceContainer);function ChoiceContainer(){(0,_classCallCheck2.default)(this,ChoiceContainer);return _super.apply(this,arguments);}(0,_createClass2.default)(ChoiceContainer,[{key:"render",value:function render(){var _this=this;return _react.default.createElement(StyledChoiceContainer,{isStatic:this.props.context.isStatic,onClick:function onClick(){return _this.props.onSelect(_this.props.option);},selected:this.props.answer&&this.props.answer===this.props.option,className:this.props.answer.length&&this.props.answer.includes(this.props.option)?"selected":"",__source:{fileName:_jsxFileName,lineNumber:161,columnNumber:7}},_react.default.createElement(DecisionIndicator,{selected:this.props.answer.length&&this.props.answer.includes(this.props.option),className:this.props.answer.length&&this.props.answer.includes(this.props.option)?"selected":"",__source:{fileName:_jsxFileName,lineNumber:172,columnNumber:9}}),_react.default.createElement(DecisionContainer,{__source:{fileName:_jsxFileName,lineNumber:184,columnNumber:9}},this.props.option));}}]);return ChoiceContainer;}(_react.Component);(0,_defineProperty2.default)(ChoiceContainer,"propTypes",{answer:_propTypes.default.array.isRequired,option:_propTypes.default.string.isRequired,onSelect:_propTypes.default.func.isRequired});(0,_defineProperty2.default)(ChoiceContainer,"defaultProps",{answer:[],option:"",onSelect:function onSelect(){}});var MultiSelectQuestion=function(_Component2){(0,_inherits2.default)(MultiSelectQuestion,_Component2);var _super2=_createSuper(MultiSelectQuestion);function MultiSelectQuestion(){var _this2;(0,_classCallCheck2.default)(this,MultiSelectQuestion);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this2=_super2.call.apply(_super2,[this].concat(args));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this2),"onClick",function(question,choice,cb,context){if(!context.static){var set=new Set(context.activeStateContent.answer||[]);if(set.has(choice)){set.delete(choice);}else{set.add(choice);}if(cb&&typeof cb==="function"){cb({question:question,answer:Array.from(set)},context);}}});return _this2;}(0,_createClass2.default)(MultiSelectQuestion,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentDidUpdate",value:function componentDidUpdate(){}},{key:"render",value:function render(){var _this3=this;return _react.default.createElement(_styledComponents.ThemeContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:226,columnNumber:7}},function(themeContext){return _react.default.createElement(_FormProvider.FormConsumer,{__source:{fileName:_jsxFileName,lineNumber:229,columnNumber:13}},function(context){return _react.default.createElement(QuestionContainer,{__source:{fileName:_jsxFileName,lineNumber:232,columnNumber:19}},_this3.props.choices.map(function(choice,index){return _react.default.createElement(ChoiceContainer,(0,_extends2.default)({context:context,key:index,answer:_this3.props.answer},choice,{onSelect:function onSelect(choice){return _this3.onClick(context.activeStateContent.question,choice,context.cb,context);},__source:{fileName:_jsxFileName,lineNumber:235,columnNumber:25}}));}));});});}}]);return MultiSelectQuestion;}(_react.Component);exports.MultiSelectQuestion=MultiSelectQuestion;(0,_defineProperty2.default)(MultiSelectQuestion,"propTypes",{answer:_propTypes.default.array.isRequired,choices:_propTypes.default.array.isRequired});(0,_defineProperty2.default)(MultiSelectQuestion,"defaultProps",{answer:[],choices:[]});