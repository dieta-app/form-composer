"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.SimpleSelectQuestion=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _react=_interopRequireWildcard(require("react"));var _styledComponents=_interopRequireWildcard(require("styled-components"));var _propTypes=_interopRequireDefault(require("prop-types"));var _FormProvider=require("../FormProvider");var _color=_interopRequireDefault(require("color"));var _reactResponsiveSelect=_interopRequireDefault(require("react-responsive-select"));require("react-responsive-select/dist/ReactResponsiveSelect.css");var _jsxFileName="/Users/bneigher/Desktop/Dieta/form-composer/src/Form/Questions/SimpleSelectQuestion.js";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var QuestionContainer=_styledComponents.default.div.withConfig({displayName:"QuestionContainer",componentId:"f39lr3-0"})(["display:flex;flex:1;flex-direction:column;min-width:275px;max-width:300px;margin:2px;"]);var CaretIcon=function CaretIcon(){return _react.default.createElement("svg",{className:"caret-icon",x:"0px",y:"0px",width:"11.848px",height:"6.338px",viewBox:"351.584 2118.292 11.848 6.338",__source:{fileName:_jsxFileName,lineNumber:19,columnNumber:3}},_react.default.createElement("g",{__source:{fileName:_jsxFileName,lineNumber:27,columnNumber:5}},_react.default.createElement("path",{d:"M363.311,2118.414c-0.164-0.163-0.429-0.163-0.592,0l-5.205,5.216l-5.215-5.216c-0.163-0.163-0.429-0.163-0.592,0s-0.163,0.429,0,0.592l5.501,5.501c0.082,0.082,0.184,0.123,0.296,0.123c0.103,0,0.215-0.041,0.296-0.123l5.501-5.501C363.474,2118.843,363.474,2118.577,363.311,2118.414L363.311,2118.414z",__source:{fileName:_jsxFileName,lineNumber:28,columnNumber:7}})));};var ChoiceContainer=function(_Component){(0,_inherits2.default)(ChoiceContainer,_Component);var _super=_createSuper(ChoiceContainer);function ChoiceContainer(){var _this;(0,_classCallCheck2.default)(this,ChoiceContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onChange",function(newValue){if(newValue.altered){_this.props.onSelect(newValue.value);}});return _this;}(0,_createClass2.default)(ChoiceContainer,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.answer.length){this.onChange({altered:true,value:this.props.choices[0]});}}},{key:"render",value:function render(){return _react.default.createElement(_reactResponsiveSelect.default,(0,_extends2.default)({caretIcon:_react.default.createElement(CaretIcon,{key:"caret",__source:{fileName:_jsxFileName,lineNumber:66,columnNumber:20}}),options:this.props.choices,onChange:this.onChange},this.props.answer&&this.props.answer.length?{selectedValue:this.props.answer[0]}:{},{__source:{fileName:_jsxFileName,lineNumber:65,columnNumber:7}}));}}]);return ChoiceContainer;}(_react.Component);(0,_defineProperty2.default)(ChoiceContainer,"propTypes",{answer:_propTypes.default.array.isRequired,choices:_propTypes.default.array.isRequired,option:_propTypes.default.string.isRequired,onSelect:_propTypes.default.func.isRequired});(0,_defineProperty2.default)(ChoiceContainer,"defaultProps",{answer:[],choices:[],option:"",onSelect:function onSelect(){}});var SimpleSelectQuestion=function(_Component2){(0,_inherits2.default)(SimpleSelectQuestion,_Component2);var _super2=_createSuper(SimpleSelectQuestion);function SimpleSelectQuestion(){var _this2;(0,_classCallCheck2.default)(this,SimpleSelectQuestion);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this2),"onClick",function(question,choice,cb,context){if(!context.static){if(cb&&typeof cb==="function"){cb({question:question,answer:[choice]},context);}}});return _this2;}(0,_createClass2.default)(SimpleSelectQuestion,[{key:"componentDidMount",value:function componentDidMount(){}},{key:"componentDidUpdate",value:function componentDidUpdate(){}},{key:"render",value:function render(){var _this3=this;return _react.default.createElement(_styledComponents.ThemeContext.Consumer,{__source:{fileName:_jsxFileName,lineNumber:109,columnNumber:7}},function(themeContext){return _react.default.createElement(_FormProvider.FormConsumer,{__source:{fileName:_jsxFileName,lineNumber:112,columnNumber:13}},function(context){return _react.default.createElement(QuestionContainer,{__source:{fileName:_jsxFileName,lineNumber:115,columnNumber:19}},_react.default.createElement(ChoiceContainer,{context:context,choices:_this3.props.choices.map(function(choice){return{text:choice,value:choice};}),answer:_this3.props.answer,onSelect:function onSelect(choice){return _this3.onClick(context.activeStateContent.question,choice,context.cb,context);},__source:{fileName:_jsxFileName,lineNumber:116,columnNumber:21}}));});});}}]);return SimpleSelectQuestion;}(_react.Component);exports.SimpleSelectQuestion=SimpleSelectQuestion;(0,_defineProperty2.default)(SimpleSelectQuestion,"propTypes",{answer:_propTypes.default.array.isRequired,choices:_propTypes.default.array.isRequired});(0,_defineProperty2.default)(SimpleSelectQuestion,"defaultProps",{answer:[],choices:[]});